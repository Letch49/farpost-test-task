{"version":3,"sources":["maps.js","fn.js","main.js"],"names":["statesOfRibbonItem","Map","set","ruStatesOfRibbonItem","colorsOfRibbonItem","isExists","parent","child","querySelector","isNotExists","isExistsInDocument","el","document","removeIsExists","remove","removeIsExistsMany","colltect","forEach","item","isExistsAction","action","isNotExistsAction","isNotExistsMultyAction","children","every","node","toNext","id","Number","classList","getElementById","add","scrollIntoView","behavior","dispatchEvent","Event","prepeareData","alert","status","innerHTML","split","pop","message","workers_id","Math","random","initItems","selector","querySelectorAll","map","index","list","addEventListener","e","clickF7KeyPsudoEvent","ev1","ev2","removeEventListener","clickF7","KeyboardEvent","keyCode","url","data","callback","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","console","log","send","html","hello","setTimeout","keyboardEvents","loadNewListEvent","once","preventDefault","createTextArea","className","placeholder","target","textArea","createElement","isDeleteDecision","get","cancelLinkEvent","value","key","trim","length","append","createSpan","text","span","createCancelLink","div","link","href","helpText","fetch","then","res","result","ctrlKey","btnsRibbon","btn","style","opacity","ribbon","shiftKey","decision","headerPlaceholder","area","tailPlaceholder","focus","JSON","stringify"],"mappings":";AAEO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,QAAA,qBAAA,QAAA,wBAAA,EAFA,IAAMA,GAAqB,IAAIC,KAAMC,IAAI,GAAI,UAAUA,IAAI,GAAI,WAAWA,IAAI,GAAI,cAElF,QAAA,mBAAA,EADA,IAAMC,GAAuB,IAAIF,KAAMC,IAAI,GAAI,aAAaA,IAAI,GAAI,YAAYA,IAAI,GAAI,aACxF,QAAA,qBAAA,EAAA,IAAME,GAAqB,IAAIH,KAAMC,IAAI,GAAI,eAAeA,IAAI,GAAI,cAAcA,IAAI,GAAI,aAA1F,QAAA,mBAAA;;AC8EN,aAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,qBAAA,QAAA,UAAA,QAAA,aAAA,QAAA,OAAA,QAAA,uBAAA,QAAA,kBAAA,QAAA,eAAA,QAAA,mBAAA,QAAA,eAAA,QAAA,mBAAA,QAAA,YAAA,QAAA,cAAA,EAhFM,IAAMG,EAAW,SAACC,EAAQC,GAAUD,OAA+B,MAA/BA,EAAOE,cAAcD,IAgF/D,QAAA,SAAA,EA/EM,IAAME,EAAc,SAACH,EAAQC,GAAU,OAACF,EAASC,EAAQC,IA+E/D,QAAA,YAAA,EA9EM,IAAMG,EAAqB,SAACC,GAAON,OAAAA,EAASO,SAAUD,IA8E5D,QAAA,mBAAA,EA5EM,IAAME,EAAiB,SAACP,EAAQC,IACH,IAA5BF,EAASC,EAAQC,IACjBD,EAAOE,cAAcD,GAAOO,UA0EnC,QAAA,eAAA,EAtEM,IAAMC,EAAqB,SAACT,GAAWU,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAa,IAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAbA,EAAa,EAAA,GAAA,UAAA,GACvDA,EAASC,QAAQ,SAAAC,GACbL,EAAeP,EAAQY,MAoE9B,QAAA,mBAAA,EAhEM,IAAMC,EAAiB,SAACb,EAAQC,EAAOa,GAAWf,OAAAA,EAASC,EAAQC,GAASa,IAAW,MAgE7F,QAAA,eAAA,EA/DM,IAAMC,EAAoB,SAACf,EAAQC,EAAOa,GAAWX,OAAAA,EAAYH,EAAQC,GAASa,IAAW,MA+DnG,QAAA,kBAAA,EA9DM,IAAME,EAAyB,SAAChB,EAAOc,GAAWG,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAa,IAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAbA,EAAa,EAAA,GAAA,UAAA,GAC/DA,EAASC,MAAM,SAAAC,GAAQhB,OAAAA,EAAYH,EAAQmB,MAC1CL,KA4DP,QAAA,uBAAA,EAxDM,IAAMM,EAAS,SAACC,GACnBA,EAAK,IAAIC,OAAOD,GAAM,EACtBf,SAASJ,cAAc,UAAUqB,UAAUf,OAAO,UAC5CH,IAAAA,EAAKC,SAASkB,eAAeH,GAC/Bf,SAASkB,eAAeH,KACxBhB,EAAGkB,UAAUE,IAAI,SACjBpB,EAAGqB,eAAe,CAAEC,SAAU,WAC9BtB,EAAGuB,cAAc,IAAIC,MAAM,YAiDlC,QAAA,OAAA,EA7CM,IAAMC,EAAe,SAACzB,GACrBF,EAAYE,EAAG,cACf0B,MAAM,kCAEJC,IAAAA,EAAS3B,EAAGH,cAAc,aAAa+B,UAAUC,MAAM,KAAKC,MAC5DC,EAAU/B,EAAGH,cAAc,YAAcG,EAAGH,cAAc,YAAY+B,UAAY,KAEjF,MAAA,CACHZ,GAAIhB,EAAGgB,GACPgB,WAHsC,IAAhBC,KAAKC,UAAkB,GAAK,EAAI,EAItDP,OAAQA,EACRI,QAASA,IAkChB,QAAA,aAAA,EA9BM,IAAMI,EAAY,SAACC,GAAa,OAAA,EAAInC,SAASoC,iBAAiBD,IAAWE,IAAI,SAACtC,EAAIuC,EAAOC,GAQrFxC,OAPO,IAAVuC,GACAvC,EAAGkB,UAAUE,IAAI,SAErBpB,EAAGyC,iBAAiB,QAAS,WACzBD,EAAKF,IAAI,SAAAI,GAAKA,OAAAA,EAAExB,UAAUf,OAAO,WACjCH,EAAGkB,UAAUE,IAAI,WAEdpB,KAsBV,QAAA,UAAA,EAnBM,IAAM2C,EAAuB,SAACP,EAAUQ,EAAIC,GAC/CT,EAASU,oBAAoB,QAASF,GACtCR,EAASK,iBAAiB,QAASI,GAC7BE,IAAAA,EAAU,IAAIC,cAAc,QAAS,CAAEC,QAAS,MACtDb,EAASb,cAAcwB,IAe1B,QAAA,qBAAA,EAZc,IAAA,EAAA,WAACG,IAAAA,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,IAAIC,EAAkB,UAAA,OAAA,EAAA,UAAA,QAAA,EAAbC,EAAa,UAAA,OAAA,EAAA,UAAA,QAAA,EAClCC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQL,GAAK,GACtBG,EAAIG,iBAAiB,eAAgB,kCACrCH,EAAII,mBAAqB,WACE,IAAnBJ,EAAIK,YAAmC,MAAfL,EAAI1B,OAC5ByB,IAEAO,QAAQC,IAAIP,EAAI1B,OAAQ0B,EAAIK,aAGpCL,EAAIQ,KAAKV,IACZ,QAAA,QAAA;;ACaD,aA7FA,IAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,YA4FA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,OAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,IAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GA1FA,IAAMW,EAAO7D,SAASJ,cAAc,QAEpCiE,EAAKrB,iBAAiB,UAAW,SAACC,GAC1BA,GAAc,KAAdA,EAAEO,QAAgB,CACZc,IAAAA,EAAQ9D,SAASJ,cAAc,UACrCkE,EAAM7C,UAAUE,IAAI,kBACpB4C,WAAW,WACPD,EAAM5D,UACe2D,EAAAA,EAAAA,sBAAAA,EAAMG,EAAgBC,IAC5C,IAAMJ,EAAMG,EAAgBC,KAEpC,CAAEC,MAAM,IAEXL,EAAKrB,iBAAiB,WAAY,SAACC,GAC/BA,EAAE0B,mBAGN,IAAMC,EAAiB,SAACC,EAAWC,EAAaC,GACtCC,IAAAA,EAAWxE,SAASyE,cAAc,YACxCD,EAASvD,UAAUE,IAAIkD,GACvBG,EAASF,YAAcA,EAEjBI,IAAAA,EAAmBH,EAAO3E,cAAc,aAAa+B,UAAUC,MAAM,KAAKC,QAAUtC,EAAqBoF,qBAAAA,IAAI,IAsB5GH,OApBPA,EAAShC,iBAAiB,WAAY,SAACC,GAM/BA,GALJoB,EAAKhB,oBAAoB,QAASmB,EAAgB,CAAEE,MAAM,IAC1DL,EAAKhB,oBAAoB,QAAS+B,EAAiB,CAAEV,MAAM,IAE3DzB,EAAE8B,OAAOM,OAAmB,UAAVpC,EAAEqC,IAAkB,GAAKrC,EAAEqC,IAE/B,UAAVrC,EAAEqC,IAAiB,CACfJ,GAAAA,GAAqD,IAAjCjC,EAAE8B,OAAOM,MAAME,OAAOC,OAE1C,YADAvD,MAAM,kDAGVoC,EAAKrB,iBAAiB,QAASwB,GAC/BH,EAAKrB,iBAAiB,QAASoC,GAE/B5E,SAASJ,cAAc,UAAUA,cAAc,gBAAgBqF,OAAOC,EAAW,UAAWzC,EAAE8B,OAAOM,QACrG7E,SAASJ,cAAc,UAAUA,cAAc,YAAYM,UAE5CF,EAAAA,EAAAA,QAAAA,SAASJ,cAAc,UAAUmB,OAGjDyD,GAGLU,EAAa,SAACb,EAAWc,GACrBC,IAAAA,EAAOpF,SAASyE,cAAc,QAG7BW,OAFPA,EAAKnE,UAAUE,IAAIkD,GACnBe,EAAKzD,UAAYwD,EACVC,GAGLC,EAAmB,WACfC,IAAAA,EAAMtF,SAASyE,cAAc,OACnCa,EAAIrE,UAAUE,IAAI,eACZoE,IAAAA,EAAOvF,SAASyE,cAAc,KACpCc,EAAK5D,UAAY,oBACjB4D,EAAKC,KAAO,IACNC,IAAAA,EAAWP,EAAW,YAAa,YAGlCI,OAFPzB,EAAKrB,iBAAiB,QAASoC,GAC/BU,EAAIL,OAAOM,EAAME,GACVH,GAILrB,EAAmB,SAAnBA,EAAoBxB,GACJ,MAAdA,EAAEO,SACF0C,MAAM,aAAaC,KAAK,SAACC,GACdA,OAAAA,EAAIT,SACZQ,KAAK,SAAAE,GACJ7F,SAASJ,cAAc,QAAQ+B,UAAYkE,GAChC,EAAA,EAAA,WAAA,WACXhC,EAAKhB,oBAAoB,QAASoB,GAClCJ,EAAKrB,iBAAiB,QAASwB,MAKrCY,EAAkB,SAAlBA,EAAmBnC,GACf1C,IAAAA,EAAK8D,EAAKjE,cAAc,UAC1B6C,EAAEqD,SAAyB,KAAdrD,EAAEO,UAEX+C,EADehG,EAAGH,cAAc,gBAAgBwC,iBAAiB,QACrDC,IAAI,SAAA2D,GAAOA,OAAAA,EAAIC,MAAMC,QAAU,IAC/CrC,EAAKhB,oBAAoB,QAAS+B,IACf7E,EAAAA,EAAAA,oBAAAA,EAAI,eAAgB,YAAa,WAAY,cAIlEiE,EAAiB,SAAjBA,EAAkBvB,GACd0D,IAAAA,EAASnG,SAASJ,cAAc,UAElC6C,GAAc,KAAdA,EAAEO,SAAgC,KAAdP,EAAEO,SAAmBP,EAAE2D,UAA0B,KAAd3D,EAAEO,QAAiB,CACpE+C,IAAAA,EAAaI,EAAOvG,cAAc,gBAElCyG,EAAWnB,EAAW,UAA4B3F,iBAAAA,OAAAA,EAAqBoF,qBAAAA,IAAIlC,EAAEO,WACnFqD,EAASpF,UAAUE,IAAI,WAAY3B,EAAmBmF,mBAAAA,IAAIlC,EAAEO,WAE1C+C,EAAAA,EAAAA,mBAAAA,EAAY,YAAa,WAAMA,OAAAA,EAAWd,OAAOoB,KAE/DN,EAAAA,EAAW3D,iBAAiB,0BAA0BC,IAAI,SAAA2D,GAAOA,OAAAA,EAAIC,MAAMC,QAAU,QAEvEH,EAAAA,EAAAA,mBAAAA,EAAY,eAAgB,WAAMA,OAAAA,EAAWd,OAAOI,OAOtE5C,GAJc,KAAdA,EAAEO,UACamD,EAAAA,EAAAA,QAAAA,EAAOpF,IAGR,MAAd0B,EAAEO,SASFP,GAAAA,EAAE2D,UAA0B,KAAd3D,EAAEO,SAAgC,KAAdP,EAAEO,QAAgB,CAC9CsD,IAAAA,EAAkC,KAAd7D,EAAEO,QAAiB,2BAA6B,yCAEpEuD,EAAOnC,EAAe,WAAekC,GAAAA,OAAAA,EAAqBE,KAAAA,OADxC,uEAC2DL,GAC7EJ,EAAaI,EAAOvG,cAAc,iBACjBmG,EAAAA,EAAAA,wBAAAA,EAAY,WAC/BA,EAAWd,OAAOsB,GAClBR,EAAWnG,cAAc,YAAY6G,SACtC,YAAa,iBAjBhBhE,CACMS,IAAAA,EAAOwD,KAAKC,UAAU,EAAI3G,SAASoC,iBAAiB,YAAYC,IAAI,SAAAtC,GAAM,OAAA,EAAmBA,EAAAA,cAAAA,OACvF,EAAA,EAAA,SAAA,IAAKmD,EAAM,YACEW,EAAAA,EAAAA,sBAAAA,EAAMG,EAAgBC,GAC3CJ,EAAKzC,eAAe,CAAEC,SAAU","file":"main.map","sourceRoot":"..","sourcesContent":["export const statesOfRibbonItem = new Map().set(46, 'Reject').set(32, 'approve').set(13, 'escalation')\r\nexport const ruStatesOfRibbonItem = new Map().set(46, 'Отклонить').set(32, 'Одобрить').set(13, 'Эскалация');\r\nexport const colorsOfRibbonItem = new Map().set(46, 'text-orange').set(32, 'text-green').set(13, 'text-blue');","export const isExists = (parent, child) => parent.querySelector(child) != null ? true : false;\r\nexport const isNotExists = (parent, child) => !isExists(parent, child);\r\nexport const isExistsInDocument = (el) => isExists(document, el);\r\n\r\nexport const removeIsExists = (parent, child) => {\r\n    if (isExists(parent, child) === true) {\r\n        parent.querySelector(child).remove();\r\n    }\r\n};\r\n\r\nexport const removeIsExistsMany = (parent, ...colltect) => {\r\n    colltect.forEach(item => {\r\n        removeIsExists(parent, item);\r\n    });\r\n};\r\n\r\nexport const isExistsAction = (parent, child, action) => isExists(parent, child) ? action() : null;\r\nexport const isNotExistsAction = (parent, child, action) => isNotExists(parent, child) ? action() : null;\r\nexport const isNotExistsMultyAction = (parent,action, ...children) => {\r\n    if(children.every(node => isNotExists(parent, node))) {\r\n        action();\r\n    }\r\n};\r\n\r\nexport const toNext = (id) => {\r\n    id = new Number(id) + 1;\r\n    document.querySelector('.focus').classList.remove('.focus');\r\n    const el = document.getElementById(id);\r\n    if (document.getElementById(id)) {\r\n        el.classList.add('focus');\r\n        el.scrollIntoView({ behavior: 'smooth' });\r\n        el.dispatchEvent(new Event('click'));\r\n    }\r\n};\r\n\r\nexport const prepeareData = (el) => {\r\n    if (isNotExists(el,'.decision')) {\r\n        alert('Обработайте все заявки в ленте');\r\n    }\r\n    const status = el.querySelector('.decision').innerHTML.split(' ').pop();\r\n    const message = el.querySelector('.comment') ? el.querySelector('.comment').innerHTML : null;\r\n    const getOneOrTwo = () => Math.random() * 100 >= 50 ? 1 : 2;\r\n    return {\r\n        id: el.id,\r\n        workers_id: getOneOrTwo(),\r\n        status: status,\r\n        message: message\r\n    };\r\n};\r\n\r\nexport const initItems = (selector) => [...document.querySelectorAll(selector)].map((el, index, list) => {\r\n    if (index === 0) {\r\n        el.classList.add('focus');\r\n    }\r\n    el.addEventListener('click', () => {\r\n        list.map(e => e.classList.remove('focus'));\r\n        el.classList.add('focus');\r\n    });\r\n    return el;\r\n});\r\n\r\nexport const clickF7KeyPsudoEvent = (selector, ev1,ev2) => {\r\n    selector.removeEventListener('keyup', ev1);\r\n    selector.addEventListener('keyup', ev2);\r\n    const clickF7 = new KeyboardEvent('keyup', { keyCode: 118 });\r\n    selector.dispatchEvent(clickF7);\r\n};\r\n\r\nexport default (url = '/',data,callback) => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open('POST', url, true);\r\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n    xhr.onreadystatechange = () => {\r\n        if (xhr.readyState === 4 && xhr.status === 200) {\r\n            callback();\r\n        } else {\r\n            console.log(xhr.status, xhr.readyState);\r\n        }\r\n    };\r\n    xhr.send(data);\r\n};","import { ruStatesOfRibbonItem, colorsOfRibbonItem } from './maps.js';\r\nimport jsonRequest, { toNext as scrollToNextId, prepeareData as prepeareBeforeSend,removeIsExistsMany, initItems as initRibbon, clickF7KeyPsudoEvent, isNotExistsAction, isNotExistsMultyAction } from './fn.js';\r\n\r\nconst html = document.querySelector('.app');\r\n\r\nhtml.addEventListener('keydown', (e) => {\r\n    if (e.keyCode === 13) {\r\n        const hello = document.querySelector('#hello');\r\n        hello.classList.add('animation-move');\r\n        setTimeout(() => {\r\n            hello.remove();\r\n            clickF7KeyPsudoEvent(html, keyboardEvents, loadNewListEvent);\r\n        }, 1000, html, keyboardEvents, loadNewListEvent);\r\n    }\r\n}, { once: true });\r\n\r\nhtml.addEventListener('keypress', (e) => {\r\n    e.preventDefault();\r\n});\r\n\r\nconst createTextArea = (className, placeholder, target) => {\r\n    const textArea = document.createElement('textarea');\r\n    textArea.classList.add(className);\r\n    textArea.placeholder = placeholder;\r\n\r\n    const isDeleteDecision = target.querySelector('.decision').innerHTML.split(' ').pop() === ruStatesOfRibbonItem.get(46);\r\n\r\n    textArea.addEventListener('keypress', (e) => {\r\n        html.removeEventListener('keyup', keyboardEvents, { once: true });\r\n        html.removeEventListener('keyup', cancelLinkEvent, { once: true });\r\n\r\n        e.target.value += e.key === 'Enter' ? '' : e.key;\r\n\r\n        if (e.key === 'Enter') {\r\n            if (isDeleteDecision && e.target.value.trim().length === 0) {\r\n                alert('Комментарий для удаления не может быть пустым!');\r\n                return;\r\n            }\r\n            html.addEventListener('keyup', keyboardEvents);\r\n            html.addEventListener('keyup', cancelLinkEvent);\r\n\r\n            document.querySelector('.focus').querySelector('.btns-ribbon').append(createSpan('comment', e.target.value));\r\n            document.querySelector('.focus').querySelector('textarea').remove();\r\n\r\n            scrollToNextId(document.querySelector('.focus').id); // get the next id of item and go it\r\n        }\r\n    });\r\n    return textArea;\r\n};\r\n\r\nconst createSpan = (className, text) => {\r\n    const span = document.createElement('span');\r\n    span.classList.add(className);\r\n    span.innerHTML = text;\r\n    return span;\r\n};\r\n\r\nconst createCancelLink = () => {\r\n    const div = document.createElement('div');\r\n    div.classList.add('cancel-link');\r\n    const link = document.createElement('a');\r\n    link.innerHTML = 'Отменить решение ';\r\n    link.href = '#';\r\n    const helpText = createSpan('text-gray', 'ctrl + z');\r\n    html.addEventListener('keyup', cancelLinkEvent);\r\n    div.append(link, helpText);\r\n    return div;\r\n};\r\n\r\n\r\nconst loadNewListEvent = (e) => {\r\n    if (e.keyCode === 118) {\r\n        fetch('/objects/').then((res) => {\r\n            return res.text();\r\n        }).then(result => {\r\n            document.querySelector('.app').innerHTML = result;\r\n            initRibbon('.ribbon');\r\n            html.removeEventListener('keyup', loadNewListEvent);\r\n            html.addEventListener('keyup', keyboardEvents);\r\n        });\r\n    }\r\n};\r\n\r\nconst cancelLinkEvent = (e) => {\r\n    const el = html.querySelector('.focus');\r\n    if (e.ctrlKey && e.keyCode === 90) {\r\n        const btnsRibbon = el.querySelector('.btns-ribbon').querySelectorAll('div');\r\n        [...btnsRibbon].map(btn => btn.style.opacity = 1);\r\n        html.removeEventListener('keyup', cancelLinkEvent);\r\n        removeIsExistsMany(el, '.cancel-link', '.decision', 'textarea', '.comment');\r\n    }\r\n};\r\n\r\nconst keyboardEvents = (e) => {\r\n    const ribbon = document.querySelector('.focus');\r\n\r\n    if (e.keyCode === 46 || e.keyCode === 32 || (e.shiftKey && e.keyCode === 13)) {\r\n        const btnsRibbon = ribbon.querySelector('.btns-ribbon');\r\n\r\n        const decision = createSpan('d-block', `Ваше решение: ${ruStatesOfRibbonItem.get(e.keyCode)}`); \r\n        decision.classList.add('decision', colorsOfRibbonItem.get(e.keyCode));\r\n\r\n        isNotExistsAction(btnsRibbon, '.decision', () => btnsRibbon.append(decision));\r\n\r\n        [...btnsRibbon.querySelectorAll('div:not(.cancel-link)')].map(btn => btn.style.opacity = '.2');\r\n\r\n        isNotExistsAction(btnsRibbon, '.cancel-link', () => btnsRibbon.append(createCancelLink()));\r\n    }\r\n\r\n    if (e.keyCode === 32) { // space\r\n        scrollToNextId(ribbon.id); // get the next id of item and go it\r\n    }\r\n\r\n    if (e.keyCode === 118) { // F7\r\n        const data = JSON.stringify([...document.querySelectorAll('.ribbon')].map(el => prepeareBeforeSend(el)));\r\n        jsonRequest('/', data, () => {\r\n            clickF7KeyPsudoEvent(html, keyboardEvents, loadNewListEvent);\r\n            html.scrollIntoView({ behavior: 'smooth' });\r\n        });\r\n        return;\r\n    }\r\n\r\n    if (e.shiftKey && e.keyCode === 13 || e.keyCode === 46) { //shift + enter and delete\r\n        const headerPlaceholder = e.keyCode === 46 ? 'Укажите причину удаления' : 'Укажите комментарий старшему оператору';\r\n        const tailPlaceholder = '\\nПосле заполнения нажать Enter чтобы перейти к следующему элементу';\r\n        const area = createTextArea('textarea', `${headerPlaceholder} ${tailPlaceholder}`, ribbon);\r\n        const btnsRibbon = ribbon.querySelector('.btns-ribbon');\r\n        isNotExistsMultyAction(btnsRibbon, () => {\r\n            btnsRibbon.append(area);\r\n            btnsRibbon.querySelector('textarea').focus();\r\n        }, 'textarea ', '.comment');\r\n    }\r\n};"]}